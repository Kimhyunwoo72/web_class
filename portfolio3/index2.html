<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>
      CodePen - Horizontal scroll section with GSAP ScrollTrigger &amp;
      Locomotive Scroll
    </title>
    <link rel="stylesheet" href="https://use.typekit.net/skn8ash.css" />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/locomotive-scroll@3.5.4/dist/locomotive-scroll.css"
    />
    <style>
      * {
        margin: 0;
        padding: 0;
      }
      body {
        transition: 0.3s ease-out;
        overflow-x: hidden;
        max-width: 100%;
        width: 100%;
        overscroll-behavior: none;
        background-color: #b9b3a9;
      }
      #section1 {
        background-color: #b9b3a9;
      }
      #section2 {
        background-color: #7d7565;
      }
      #section3 {
        background-color: #b9b3a9;
      }
      #section4 {
        background-color: #7d7565;
      }
      #section5 {
        background-color: #b9b3a9;
      }
      #section1 {
        left: 0;
      }
      #section2 {
        height: 100vh;
        overflow: hidden;
        display: flex;
        left: 0;
      }
      .sec2__wrap {
        height: 100vh;
        display: flex;
        justify-content: flex-start;
        align-items: center;
      }
      .sec2__wrap > div {
        min-width: 60vw;
      }
      #section1 {
        width: 100%;
        background: #ccc;
      }
      #section3 {
        width: 100%;
        height: 100vh;
        background: #111;
      }
      #section5 {
        width: 100%;
        height: 100vh;
        background: #444;
      }
      #section1-1 {
        width: 100%;
        height: 100vh;
        background: #444;
      }
      #section1-2 {
        width: 100%;
        height: 100vh;
        background: #555;
      }
      #section1-3 {
        width: 100%;
        height: 100vh;
        background: #666;
      }
      #section1-4 {
        width: 100%;
        height: 100vh;
        background: #666;
      }
      #section1-5 {
        width: 100%;
        height: 200vh;
        background: #666;
      }
    </style>

    <!-- 폰트 -->
    <link
      href="https://webfontworld.github.io/gmarket/GmarketSans.css"
      rel="stylesheet"
    />

    <!-- icon -->
    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/icon?family=Material+Icons"
    />

    <!-- CSS -->
    <link rel="stylesheet" href="assets/css/fonts.css" />
    <link rel="stylesheet" href="assets/css/reset.css" />
    <link rel="stylesheet" href="assets/css/common.css" />
    <link rel="stylesheet" href="assets/css/style.css" />
    <link rel="stylesheet" href="assets/css/custom.css" />
    <link rel="stylesheet" href="assets/css/locomotive-scroll.css" />
  </head>
  <body>
    <!-- 스크롤탑 -->
    <div class="scrollTop">0</div>

    <header id="header">
      <ul>
        <li><a href="#">DEV</a></li>
        <li>
          <a href="#"><img src="assets/img/menu.svg" alt="이미지" /></a>
        </li>
      </ul>
    </header>

    <div id="contents">
      <section id="section1">
        <!--  main_page -->
        <section class="main_wrap">
          <div class="cursor"></div>
          <!-- <div class="cursor"></div> -->
          <div class="main_line">
            <div class="bg_box">
              <ul>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
              </ul>
              <div class="main_box">
                <div class="main_bg"></div>
                <div id="about_bg"></div>
              </div>
            </div>
          </div>
          <article class="main_page">
            <div class="loader">
              <div class="intro-title intro-title1">FRONTEND</div>
              <div class="intro-title intro-title2">2022 DEVELOPER SITE</div>
            </div>
          </article>
          <article class="main_inpo">
            <p>FRONT-END DEVELOPER 2022</p>
            <p>KIM HYUN WOO</p>
          </article>
          <article
            class="main_banner"
            data-0="filter: blur(5px)"
            data-699="flter: blur(0px)"
            data-1500="filter: blur(5px)"
          >
            <div class="main_inner">
              <div
                class="bg"
                data-0="background:rgba(0, 0, 0, 0.5)"
                data-700="background:rgba(0, 0, 0, 0)"
                data-1500="background:rgba(0, 0, 0, 0.8)"
              ></div>
              <!-- <figure>
            <img src="./assets/img/img01.jpg" alt="이미지" />
          </figure> -->
            </div>
          </article>
        </section>
        <!--  //main_page -->
        <!-- about_page-->
        <section class="about_page">
          <div class="container">
            <article class="about_title">
              <h2>
                <span> FRONTEND </span><br />
                ABOUT
              </h2>
            </article>
          </div>
          <article class="about_cont">
            <ul>
              <li>
                <div></div>
              </li>
              <li>
                <span class="about_num about_num1">1.</span>
                <p class="about_desc about_desc1">
                  처음 프론트엔드 개발자를 꿈꿨을 때, 제 주변 사람들이 30대에
                  IT업계로 이직하는 것은 너무 큰 도전이며, 이미 따라가기엔
                  늦었다고 다들 걱정 한 것이 기억에 남습니다. 부족하다면 다른
                  사람보다 더 시간을 투자해서 내것으로 만들면 된다고 생각하며,
                  내가 하고 싶은 일을 했을 때, 성취감은 물론 업무 성과물도 더
                  좋다고 생각을 하기 때문에 끊임없이 노력하는 개발자가 되고자
                  합니다.
                </p>
              </li>
              <li>
                <span class="about_num about_num2">2.</span>
                <p class="about_desc about_desc2">
                  책임감은 자신 있습니다! <br />
                  지오다노회사에서 점장으로 있으면서 리더의 책임감이 어떤것인지
                  크게 깨닫고, 최고의 성과를 얻기 위해 항상 고민하고 발전해
                  갔습니다.
                </p>
              </li>
              <li>
                <span class="about_num about_num3">3.</span>
                <p class="about_desc about_desc3">
                  혼자서는 속도적인 부분에서 한계가 있다고 생각합니다. 그래서
                  도움이 되는 직원이 되고, 협업할 수 있는 직원이 되기 위해
                  끊임없이 노력할 것입니다.
                </p>
              </li>
            </ul>
          </article>
          <!-- //about_page 1-->
          <article class="aboutImg_box">
            <div class="about_text">ABOUT</div>
            <div class="about__img">
              <div class="slider__img">
                <div id="webgl"></div>
              </div>
            </div>
          </article>
        </section>
        <!-- about_page-->
        <section id="section1-3">
          <div>section1-3</div>
        </section>
        <section id="section1-4">
          <div>section1-4</div>
        </section>
        <section id="section1-5">
          <div>section1-5</div>
        </section>
      </section>
      <section id="section2">
        <div class="sec2__wrap">
          <div>
            <img
              src="https://images.pexels.com/photos/5207262/pexels-photo-5207262.jpeg?auto=compress&cs=tinysrgb&dpr=1&w=900"
              alt=""
            />
          </div>
          <div>
            <img
              src="https://images.pexels.com/photos/3371358/pexels-photo-3371358.jpeg?auto=compress&cs=tinysrgb&dpr=1&w=900"
              alt=""
            />
          </div>
          <div>
            <img
              src="https://images.pexels.com/photos/3618545/pexels-photo-3618545.jpeg?auto=compress&cs=tinysrgb&dpr=1&w=900"
              alt=""
            />
          </div>
          <div>
            <img
              src="https://images.pexels.com/photos/3618545/pexels-photo-3618545.jpeg?auto=compress&cs=tinysrgb&dpr=1&w=900"
              alt=""
            />
          </div>
        </div>
      </section>
      <section id="section3">section3</section>
      <section id="section5">section5</section>
    </div>
    <!-- partial -->

    <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/2.0.2/anime.min.js"></script>
    <script src="https://unpkg.com/gsap@3/dist/ScrollTrigger.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.10.4/gsap.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/locomotive-scroll@3.5.4/dist/locomotive-scroll.min.js"></script>

    <!-- jquery & ajax -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Swiper/4.5.1/js/swiper.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/lettering.js/0.6.1/jquery.lettering.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r115/three.min.js"></script>
    <!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/100/three.min.js"></script> -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/2.0.2/TweenMax.min.js"></script>

    <!-- about slider -->
    <script id="js-vertex-shader" type="x-shader/x-vertex">
        attribute vec3 position;
      attribute vec2 uv;
      uniform float u_wave;
      uniform float u_time;
      uniform mat4 modelViewMatrix;
      uniform mat4 projectionMatrix;
      varying vec2 vUv;

      void main() {
          vUv = uv;
          float power = 1.0;
          float x = position.x;
          float y = position.y;
          float z = position.z + u_wave * cos(-u_time + x * power) * sin(u_time + y * power);
          gl_Position = projectionMatrix * modelViewMatrix * vec4(x, y, z, 1.0);
      }
    </script>
    <script id="js-fragment-shader" type="x-shader/x-fragment">
        precision mediump float;

      uniform vec2 u_meshsize;
      uniform vec2 u_texturesize;
      uniform float u_texture_switch_01;
      uniform float u_texture_switch_02;
      uniform float u_texture_switch_03;
      uniform float u_texture_switch_04;
      uniform float u_noise_switch_01;
      uniform float u_noise_switch_02;
      uniform float u_noise_switch_03;
      uniform float u_noise_switch_04;
      uniform sampler2D u_noise_texture;
      uniform sampler2D u_texture_01;
      uniform sampler2D u_texture_02;
      uniform sampler2D u_texture_03;
      uniform sampler2D u_texture_04;
      varying vec2 vUv;

      #define PI 3.14159265359

      mat2 rotate2d(float _angle){
          return mat2(cos(_angle),-sin(_angle), sin(_angle),cos(_angle));
      }

      void main() {
          vec2 uv = vUv;

          vec2 ratio = vec2(
              min((u_meshsize.x / u_meshsize.y) / (u_texturesize.x / u_texturesize.y), 1.0),
              min((u_meshsize.y / u_meshsize.x) / (u_texturesize.y / u_texturesize.x), 1.0)
          );

          uv *= ratio;

          float noisePower = 0.5;
          mat2 rotate = rotate2d(PI);
          vec4 noise_texture = texture2D(u_noise_texture, uv);
          vec2 uv01 = uv + rotate * vec2(noise_texture.r, noise_texture.g) * u_noise_switch_01 * noisePower;
          vec2 uv02 = uv + rotate * vec2(noise_texture.r, noise_texture.g) * u_noise_switch_02 * noisePower;
          vec2 uv03 = uv + rotate * vec2(noise_texture.r, noise_texture.g) * u_noise_switch_03 * noisePower;
          vec2 uv04 = uv + rotate * vec2(noise_texture.r, noise_texture.g) * u_noise_switch_04 * noisePower;

          vec4 texture01 = texture2D(u_texture_01, uv01);
          vec4 texture02 = texture2D(u_texture_02, uv02);
          vec4 texture03 = texture2D(u_texture_03, uv03);
          vec4 texture04 = texture2D(u_texture_04, uv04);

          vec4 finalPos = texture01 * u_texture_switch_01 + texture02 * u_texture_switch_02 + texture03 * u_texture_switch_03 + texture04 * u_texture_switch_04;
          gl_FragColor = vec4(finalPos);
      }
    </script>
    <!-- about slider -->
    <!-- main font -->
    <script id="vertexShader" type="x-shader/x-vertex">
        void main() {
          gl_Position = vec4( position, 1.0 );
      }
    </script>
    <script id="fragmentShader" type="x-shader/x-fragment">
        precision highp float;

      uniform vec2 resolution;
      uniform float time;
      uniform vec2 mouse;
      uniform sampler2D backbuffer;

      vec3 wave(vec2 uv,float speed, float thickness, float amplitude, float delay, vec3 color){
          float shake = mix(0.0, 1.0, amplitude);
          float wave = sin(delay + mod(uv.x+uv.y/2.0,0.25) * 1.0 - time * speed ) / 5.0 * shake;
          float colwave = thickness /  abs((1.0-length(uv))+wave); //線の太さ
          return color * colwave;
      }

      float random (in vec2 st) {
          return fract(cos(dot(st.xy,vec2(12.9898,78.233))) * 43758.5453123);
      }

      void main(void) {
          vec2 uv = (gl_FragCoord.xy * 2.0 - resolution.xy) / min(resolution.x, resolution.y);
          vec3 col0 = wave(uv,0.1,0.08,8.0,5., vec3(0.6, 0.6, 0.6));
          vec3 col1 = wave(uv,0.2,0.08,9.0,6., vec3(0.4, 0.9, 0.9));
          vec3 col2 = wave(uv,0.2,0.08,10.0,7., vec3(0.6, 0.9, 0.9));
          vec3 col3 = wave(uv,0.1,0.08,11.0,8., vec3(0.6, 0.6, 0.6));

          //vec3 col = col0+col1+col2+col3;
          vec3 col = col0+col1;

          gl_FragColor = vec4(vec3(col), 1.0);
      }
    </script>
    <!-- //main font -->

    <!-- page -->
    <!-- <script src="./js/highlight.min.js"></script> -->
    <!-- <script src="./js/custom.js"></script> -->
    <script src="./js/main_page.js"></script>
    <script src="./js/about.js"></script>
    <!-- <script src="./js/game.js"></script> -->
    <!-- <script src="./js/effect.js"></script> -->
    <!-- <script src="./js/site.js"></script> -->

    <script>
      // 팝업창
      //   hljs.highlightAll();
      //   modal();

      // main banner
      init();
      animate();
      // main banner

      //   스크롤탑
      //   function scroll() {
      //     var s = skrollr.init();
      //     let scrollTop =
      //       window.pageYOffset ||
      //       document.documentElement.scrollTop ||
      //       window.scrollY;

      //     document.querySelector(".scrollTop").innerText = Math.round(scrollTop);
      //     requestAnimationFrame(scroll);
      //   }
      //   scroll();

      gsap.registerPlugin(ScrollTrigger);
      const pageContents = document.querySelector("#contents");
      const scroller = new LocomotiveScroll({
        el: pageContents,
        smooth: true,
      });
      scroller.on("scroll", ScrollTrigger.update);
      ScrollTrigger.scrollerProxy(pageContents, {
        scrollTop(value) {
          return arguments.length
            ? scroller.scrollTo(value, 0, 0)
            : scroller.scroll.instance.scroll.y;
        },
        getBoundingClientRect() {
          return {
            left: 0,
            top: 0,
            width: window.innerWidth,
            height: window.innerHeight,
          };
        },
        pinType: pageContents.style.transform ? "transform" : "fixed",
      });
      window.addEventListener("load", function () {
        let sec2WrapWidth = document.querySelector(".sec2__wrap").offsetWidth;
        let horizontal2 = sec2WrapWidth - window.innerWidth;
        gsap.to("#section2 .sec2__wrap", {
          scrollTrigger: {
            scroller: pageContents,
            scrub: true,
            trigger: "#section2",
            pin: true,
            anticipatePin: 1,
            start: "top top",
            //end: sec2WrapWidth,
            end: () => `+=${sec2WrapWidth}`,
            markers: true,
          },
          x: -horizontal2,
          ease: "none",
        });

        //about_cont line
        // gsap.from(".about_cont ul li:nth-child(1)", {
        //   scrollTrigger: {
        //     trigger: ".about_page",
        //     scroller: pageContents,
        //     markers: true,
        //     start: "5% center",
        //   },
        //   opacity: 0,
        //   height: 0,
        // });
        // gsap.to(".about_cont ul li:nth-child(1)", {
        //   scrollTrigger: {
        //     trigger: ".about_page",
        //     scroller: pageContents,
        //     markers: true,
        //     start: "5% center",
        //   },
        //   opacity: 1,
        //   height: 100 + "%",
        //   duration: 1,
        //   ease: "none",
        //   delay: 1,
        // });
        //about_cont line
        ScrollTrigger.addEventListener("refresh", () => scroller.update());
        ScrollTrigger.refresh();
      });
    </script>
  </body>
</html>
